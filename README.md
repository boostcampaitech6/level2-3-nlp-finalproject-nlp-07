![header](https://capsule-render.vercel.app/api?type=waving&height=200&color=993afebd&text=CodePlay!&fontSize=50&fontAlignY=28&desc=디지털%20악보와%20언어모델을%20이용한%20음악%20생성%20프로젝트&descAlignY=51&fontColor=ffffff)

 
<!--## <p align="center">디지털 악보와 언어 모델을 이용한 음악 생성 프로젝트: CodePlay!</p>-->

<td style="text-align:center; border-color:white" rowspan="3" width=660>
      <p align="center">
        <a href="https://codeplay-ai.netlify.app">
        <img src="etc\logo_codeplay.png" width=240>    
        </a>
      </p>
    </td>  
<br>

### <p align="center"><code>CodePlay!</code>는</p>
<p align="center">사용자가 감정이나 생각을 <code>텍스트</code>로 표현하면</p>
<p align="center">이를 기반으로 음악을 생성하여</p> 
<p align="center"><code>편집 가능</code>한 <code>디지털 악보</code>로 제공하는 서비스입니다.</p>


<br>






<table align="center">
  <tr height="8px">
    <td align="center" style="text-align:center;" width="80px">
      <b>데모 앱</b>
    </td>
    <td align="center" style="text-align:center;" width="80px">
      <b>시연 영상</b>
    </td>
  </tr>
  
  <tr height="40px">
    <td align="center" width="150px">
        <a href="https://codeplay-ai.netlify.app"><img src="https://img.shields.io/badge/Netlify-ffffff?style=flat-square&logo=Netlify">
    </td>
    <td align="center" width="150px">
      <a href="https://youtu.be/PThn811Lli8"><img src="https://img.shields.io/badge/Youtube-FF0000?style=flat-square&logo=YouTube&logoColor=white">
    </td>
  </tr>
</table>
<p align="center">(↑ 로고를 클릭하면 링크로 이동합니다)</p>


&nbsp;
&nbsp;


## 🙆🏻 Members 
<table align="center">
  <tr height="155px">
    <td align="center" width="170px">
      <a href="https://github.com/patcasso"><img src="https://avatars.githubusercontent.com/patcasso"/></a>
    </td>
    <td align="center" width="170px">
      <a href="https://github.com/seohyunee22"><img src="https://avatars.githubusercontent.com/seohyunee22"/></a>
    </td>
    <td align="center" width="170px">
      <a href="https://github.com/sanggank"><img src="https://avatars.githubusercontent.com/sanggank"/></a>
    </td>
    <td align="center" width="170px">
      <a href="https://github.com/tmdqor"><img src="https://avatars.githubusercontent.com/tmdqor"/></a>
    </td>
    <td align="center" width="170px">
      <a href="https://github.com/nachalsa"><img src="https://avatars.githubusercontent.com/nachalsa"/></a>
    </td>
    <td align="center" width="170px">
      <a href="https://github.com/devBuzz142"><img src="https://avatars.githubusercontent.com/devBuzz142"/></a>
    </td>
  </tr>
  
  <tr height="40px">
    <td align="center" width="170px">
      <a href="https://github.com/patcasso">정지영_T6158</a>
    </td>
    <td align="center" width="170px">
      <a href="https://github.com/seohyunee22">양서현_T6099</a>
    </td>
    <td align="center" width="170px">
      <a href="https://github.com/sanggank">이상경_T6121</a>
    </td>
    <td align="center" width="170px">
      <a href="https://github.com/tmdqor">이승백_T6126</a>
    </td>
    <td align="center" width="170px">
      <a href="https://github.com/nachalsa">이주용_T6137</a>
    </td>
    <td align="center" width="170px">
      <a href="https://github.com/devBuzz142">정종관_T6157</a>
    </td>
  </tr>

   <tr height="80px">
    <td style="text-align:left;" width="170px">
      <b>- 팀장</b><br>
      <b>- 프로젝트 기획</b><br>
      <b>- 모델 조사</b><br> 
      <b>- baseline코드 작성</b><br>
      <b>- 웹 프론트엔드</b><br>
    </td>
    <td style="text-align:left;" width="170px">
      <b>- 데이터셋 조사</b><br>
      <b>- 토크나이징 방식 비교 및 실험</b><br>
      <b>- Model 3 구현</b><br>
    </td>
    <td style="text-align:left;" width="170px">
      <b>- 데이터 생성/수집</b><br>
      <b>- Model 1 구현</b><br>
    </td>
    <td style="text-align:left;" width="170px">
      <b>- 데이터 가공</b><br>
      <b>- 백엔드 제작</b><br>
    </td>
    <td style="text-align:left;" width="170px">
      <b>- 토크나이징 방식 개선</b><br>
      <b>- 생성방식 다각화 구상 / 실험</b><br>
    </td>
    <td style="text-align:left;" width="170px">
      <b>- 데이터 전처리</b><br>
      <b>- Model 1 구현</b><br>
    </td>
  </tr>
</table>

<br>

## 🛠️ Tech Stack
<img src="https://img.shields.io/badge/Pytorch-EE4C2C?style=flat-square&logo=Pytorch&logoColor=white"> <img src="https://img.shields.io/badge/FastAPI-005571?style=flat-square&logo=fastapi"> <img src="https://img.shields.io/badge/AWS-232F3E?style=flat-square&logo=AmazonAWS&logoColor=white"/> <img src="https://img.shields.io/badge/react-%2361DAFB.svg?&style=flat-square&logo=react&logoColor=black" /> <img src="https://img.shields.io/badge/node.js-%23339933.svg?&style=flat-square&logo=node.js&logoColor=white" /> <img src="https://img.shields.io/badge/github-181717?style=flat-square&logo=github&logoColor=white">
<!--<img src="https://img.shields.io/badge/github-181717?style=for-the-badge&logo=github&logoColor=white">-->
<!--<img src="https://img.shields.io/badge/Python-3776AB?style=flat-square&logo=Python&logoColor=white">-->


<br>

## 📖 Overview
### 1. 문제 정의

기존 음악 생성 서비스는 **WAV 형식**으로 음악이 생성됩니다. 
<br>
WAV 형식으로 생성된 음악은 특정 구간이나 악기를 변경하는 것과 같은 **세부적인 편집이 어렵거나 불가능**합니다. 
<br>
결과적으로 이는 실제 음악 업계 종사자나 아마추어 작곡가들이 서비스를 이용하기 어려워한다는 이유가 됩니다.
<br>
<br>
따라서, CodyPlay 프로젝트는 `“편집 가능한 음악 생성 서비스는 없을까?”` 라는 질문에서 시작하게 되었습니다.
<br>

### 2. 목표
<table align="center">
  <tr height="40px">
    <td align="center" style="text-align:center;" width="250px">
      <b>01</b>
    </td>
    <td align="center" style="text-align:center;" width="250px">
      <b>02</b>
    </td>
  </tr>
  <tr height="50px">
    <td align="center" style="text-align:center;" width="250px">
      <b>Text-to-Music</b>
    </td>
    <td align="center" style="text-align:center;" width="250px">
      <b>Symbolic Music Generation</b>
    </td>
  </tr>
  <tr height="100px">
    <td align="center" style="text-align:center;" width="260px">
      <b><code>텍스트 프롬프트</code>를 활용하여<br>
      사용자가 원하는 분위기, 장르의<br>
      음악을 생성하는 서비스
      </b>
    </td>
    <td align="center" style="text-align:center;" width="260px">
      <b>편집 가능성을 극복하기 위해<br>
      <code>언어 모델 기반</code>으로<br>
      <code>디지털 악보</code> 결과물 제공</b>
    </td>
  </tr>
</table>
<br>


### 3. 기대 효과
- 누구나 보다 쉽게 작곡을 할 수 있어 창작에 대한 진입장벽을 낮출 수 있습니다.
- 기존 창작자에게 새로운 시각과 접근 방식을 제공하여 창의적 활동을 보조합니다.

<br>

##  🚀 Total Structure

<img src="./etc/img_production.png">

<br>

## 💡 Modeling

<img src="./etc/img_models.png">

<table align="center">
  <tr height="40px">
    <td align="center" style="text-align:center;" width="250px">
      <b>Model 1</b>
    </td>
    <td align="center" style="text-align:center;" width="250px">
      <b>Model 2</b>
    </td>
    <td align="center" style="text-align:center;" width="250px">
      <b>Model 3</b>
    </td>
  </tr>
  <tr height="40px">
    <td align="center" style="text-align:center;" width="250px">
      <b>Text Classifier Model</b>
    </td>
    <td align="center" style="text-align:center;" width="250px">
      <b>MIDI Generative Model</b>
    </td>
    <td align="center" style="text-align:center;" width="250px">
      <b>Extension & Infilling Model</b>
    </td>
  <tr height="100px">
    <td align="center" style="text-align:center;" width="250px">
      <b>입력 받은 Text를  
      <br>{<code>Genre</code>, <code>Emotion</code>, <code>Temp</code>}
      <br>로 분류
      </b>
    </td>
    <td align="center" style="text-align:center;" width="250px">
      <b>Model 1의 Text Prompt부터 
      <br>분류한 {<code>Genre</code>, <code>Emotion</code>, 
      <br><code>Temp</code>, <code>Instrument</code>} 정보를
      <br> 바탕으로 MIDI 파일 생성</b>
    </td>
    <td align="center" style="text-align:center;" width="250px">
      <b><code>긴 시퀀스</code>의 음악 생성 및 
      <br><code>마디 재생성</code>을 위한 모델
      </b>
    </td>
  </tr>
</table>
<br>
🔎 모델링에 관한 자세한 내용은 <a href="https://www.notion.so/boostcampait/NLP-07-CodePlay-8df2eae94c904775a53b853a34f636ee?pvs=4#fd5aa82552fb40789bac1e7a83aa9b91"><img src="https://img.shields.io/badge/notion-%23000000.svg?&style=for-the-badge&logo=notion&logoColor=white "/></a>(클릭시 이동) 에서 확인하실 수 있습니다.


<br>


<br>


## 🚩 Serving Architecture
<img src="etc\img_serving.png">

### <p align="center"> Frontend </p>
<p align="center"> <img src="https://img.shields.io/badge/react.js-%2361DAFB.svg?&style=flat-square&logo=react&logoColor=black" />  Website via <img src="https://img.shields.io/badge/Netlify-ffffff?style=flat-square&logo=Netlify"></p>

### <p align="center"> Backend </p>
<p align="center"> <img src="https://img.shields.io/badge/FastAPI-005571?style=flat-square&logo=fastapi"> ML Server via <img src="https://img.shields.io/badge/NAVER Cloud Platform-%2303C75A.svg?&style=flat-square&logo=naver&logoColor=white" /></p>

### <p align="center"> Proxy </p>
<p align="center"> <img src="https://img.shields.io/badge/AWS Lambda-232F3E?style=flat-square&logo=AmazonAWS&logoColor=white"/> <img src="https://img.shields.io/badge/AWS API Gateway-232F3E?style=flat-square&logo=AmazonAWS&logoColor=white"/></p>

<br>


## 🎓 Reference

### ML

[1]  MMM : Exploring Conditional Multi-Track Music Generation with the Transformer. Jeff Ens, Philippe Pasquier(2020). _[arXiv preprint arXiv:2008.06048](https://arxiv.org/abs/2008.06048)_

[2]  YM2413-MDB: A MULTI-INSTRUMENTAL FM VIDEO GAME MUSIC DATASET WITH EMOTION ANNOTATIONS. _[arXiv preprint arXiv:2211.07131](https://arxiv.org/abs/2211.07131)_

[3]  Anticipatory Music Transformer. _[arXiv preprint arXiv:2306.08620](https://arxiv.org/abs/2306.08620)_

[4]  Using 🤗 to Train a GPT-2 Model for Music Generation. Juan Carlos Piñeros(2023). https://huggingface.co/blog/juancopi81/using-hugging-face-to-train-a-gpt-2-model-for-musi

[5]  SamLowe/roberta-base-go_emotions. https://huggingface.co/SamLowe/roberta-base-go_emotions

### Datasets

[6]  The Jazz Page. http://www.thejazzpage.de/

[7]  The Lakh MIDI Dataset v0.1. https://colinraffel.com/projects/lmd/

[8]  AI Hub 음악 유사성 판별 데이터. https://www.aihub.or.kr/aihubdata/data/view.do?currMenu=115&topMenu=100&aihubDataSe=data&dataSetSn=71544

<br><br>
<p align="center">
  <img src="./etc/logo_codeplay.png" width=300>
</p>
